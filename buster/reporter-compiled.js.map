{"version":3,"sources":["reporter.js"],"names":[],"mappings":";;;;;;;;;;IAAM,YAAY;AACH,aADT,YAAY,GACA;8BADZ,YAAY;;AAEV,YAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACvB;;iBAHC,YAAY;;eAKZ,YAAC,IAAI,EAAE,GAAG,EAAE;AACV,gBAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,SAAS,EAAE;AACnC,oBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aAChC,MAAM;AACH,oBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAClC;SACJ;;;eAEG,cAAC,IAAI,EAAa;8CAAR,MAAM;AAAN,sBAAM;;;AAChB,gBAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;;;;;;AACtB,yCAAgB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,8HAAE;4BAA7B,GAAG;;AACR,2BAAG,kBAAI,MAAM,CAAC,CAAC;qBAClB;;;;;;;;;;;;;;;aACJ;SACJ;;;WAnBC,YAAY;;;IAsBZ,aAAa;AACJ,aADT,aAAa,GACD;8BADZ,aAAa;;AAEX,mCAFF,aAAa,6CAEH;AACR,cAAM,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1D,cAAM,CAAC,UAAU,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KAChE;;cALC,aAAa;;iBAAb,aAAa;;eAOR,mBAAE;AACL,gBAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;SAC/B;;;eAEK,gBAAC,OAAO,EAAE;;AAEZ,gBAAI,QAAQ,GAAG;AACX,0BAAU,EAAE,OAAO,CAAC,KAAK;AACzB,2BAAW,EAAE,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ;AACjE,uBAAO,EAAE,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS;aACvC,CAAC;AACF,oBAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC;;AAElE,gBAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;SAEjC;;;WAtBC,aAAa;GAAS,YAAY;;AAyBxC,IAAI,OAAO,GAAG,IAAI,aAAa,EAAE,CAAC;AAClC,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAU,OAAO,EAAE;AACpC,WAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;CACvB,CAAC,CAAC","file":"reporter-compiled.js","sourcesContent":["class EventEmitter {\r\n    constructor() {\r\n        this.listeners = {};\r\n    }\r\n\r\n    on(name, fun) {\r\n        if (this.listeners[name] == undefined) {\r\n            this.listeners[name] = [fun];\r\n        } else {\r\n            this.listeners[name].push(fun);\r\n        }\r\n    }\r\n\r\n    emit(name, ...params) {\r\n        if (this.listeners[name]) {\r\n            for (var fun of this.listeners[name]) {\r\n                fun(...params); //callback\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass BusterAdapter extends EventEmitter {\r\n    constructor() {\r\n        super();\r\n        buster.testRunner.on(\"suite:end\", this.onDone.bind(this));\r\n        buster.testRunner.on(\"suite:start\", this.onStart.bind(this));\r\n    }\r\n\r\n    onStart(){\r\n        this.startTime = new Date();\r\n    }\r\n\r\n    onDone(details) {\r\n\r\n        var standard = {\r\n            totalTests: details.tests,\r\n            failedTests: details.failures + details.errors + details.timeouts,\r\n            runtime: new Date() - this.startTime\r\n        };\r\n        standard.passedTests = standard.totalTests - standard.failedTests;\r\n\r\n        this.emit(\"runEnd\", standard);\r\n\r\n    }\r\n}\r\n\r\nvar adapter = new BusterAdapter();\r\nadapter.on(\"runEnd\", function (details) {\r\n    console.log(details)\r\n});"]}