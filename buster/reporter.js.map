{"version":3,"sources":["reporter.es6.js"],"names":[],"mappings":";;;;;;;;;;;QAAM,YAAY;AACH,iBADT,YAAY,GACA;kCADZ,YAAY;;AAEV,gBAAI,CAAC,SAAS,GAAG,EAAE,CAAC;SACvB;;qBAHC,YAAY;;mBAKZ,YAAC,IAAI,EAAE,GAAG,EAAE;AACV,oBAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,SAAS,EAAE;AACnC,wBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAChC,MAAM;AACH,wBAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBAClC;aACJ;;;mBAEG,cAAC,IAAI,EAAa;kDAAR,MAAM;AAAN,0BAAM;;;AAChB,oBAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;;;;;;AACtB,6CAAgB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,8HAAE;gCAA7B,GAAG;;AACR,+BAAG,kBAAI,MAAM,CAAC,CAAC;yBAClB;;;;;;;;;;;;;;;iBACJ;aACJ;;;eAnBC,YAAY;;;QAsBZ,aAAa;AACJ,iBADT,aAAa,GACD;kCADZ,aAAa;;AAEX,uCAFF,aAAa,6CAEH;AACR,kBAAM,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1D,kBAAM,CAAC,UAAU,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SAChE;;kBALC,aAAa;;qBAAb,aAAa;;mBAOR,mBAAE;AACL,oBAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;aAC/B;;;mBAEK,gBAAC,OAAO,EAAE;;AAEZ,oBAAI,QAAQ,GAAG;AACX,8BAAU,EAAE,OAAO,CAAC,KAAK;AACzB,+BAAW,EAAE,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ;AACjE,2BAAO,EAAE,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS;iBACvC,CAAC;AACF,wBAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,UAAU,GAAG,QAAQ,CAAC,WAAW,CAAC;;AAElE,oBAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;aAEjC;;;eAtBC,aAAa;OAAS,YAAY;;AAyBxC,QAAI,OAAO,GAAG,IAAI,aAAa,EAAE,CAAC;AAClC,WAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAU,OAAO,EAAE;AACpC,eAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;KACvB,CAAC,CAAC","file":"reporter.js","sourcesContent":["class EventEmitter {\r\n    constructor() {\r\n        this.listeners = {};\r\n    }\r\n\r\n    on(name, fun) {\r\n        if (this.listeners[name] == undefined) {\r\n            this.listeners[name] = [fun];\r\n        } else {\r\n            this.listeners[name].push(fun);\r\n        }\r\n    }\r\n\r\n    emit(name, ...params) {\r\n        if (this.listeners[name]) {\r\n            for (var fun of this.listeners[name]) {\r\n                fun(...params); //callback\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass BusterAdapter extends EventEmitter {\r\n    constructor() {\r\n        super();\r\n        buster.testRunner.on(\"suite:end\", this.onDone.bind(this));\r\n        buster.testRunner.on(\"suite:start\", this.onStart.bind(this));\r\n    }\r\n\r\n    onStart(){\r\n        this.startTime = new Date();\r\n    }\r\n\r\n    onDone(details) {\r\n\r\n        var standard = {\r\n            totalTests: details.tests,\r\n            failedTests: details.failures + details.errors + details.timeouts,\r\n            runtime: new Date() - this.startTime\r\n        };\r\n        standard.passedTests = standard.totalTests - standard.failedTests;\r\n\r\n        this.emit(\"runEnd\", standard);\r\n\r\n    }\r\n}\r\n\r\nvar adapter = new BusterAdapter();\r\nadapter.on(\"runEnd\", function (details) {\r\n    console.log(details)\r\n});"]}